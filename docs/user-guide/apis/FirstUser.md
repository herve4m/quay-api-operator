<!---
DO NOT EDIT THIS FILE, BECAUSE IT IS AUTOMATICALLY GENERATED FROM A TEMPLATE.
Instead, edit the scripts/templates/docs/api.md.jinja template, and then run
the scripts/crd2markdown script.
--->

# FirstUser - Create the first user account

## Properties


### connSecretRef

Reference to the secret resource that stores the connection parameters to the Quay Container Registry API.
The secret must include the `host`, `token` (or `username` and `password`), and optionally the `validateCerts` keys.


__Type__: object (see the following properties)

__Required__: True

__Default value__: None

### connSecretRef.name

Name of the secret resource.

__Type__: string

__Required__: True

__Default value__: None

### connSecretRef.namespace

Namespace of the secret resource. By default, the secret resource is retrieved from the same namespace as the current FirstUser resource.


__Type__: string

__Required__: False

__Default value__: None

### createToken

If `true`, then an OAuth access token is created and returned. You can use that returned token with the other Quay resources, by setting it in the `quayToken` parameter. The token is valid for 2 hours 30 minutes. If `false`, then no access token is created.

__Type__: boolean

__Required__: False

__Default value__: None

### email

User`s email address. If your Quay administrator has enabled the mailing capability of your Quay installation (`FEATURE_MAILING` to `true` in `config.yaml`), then this `email' parameter is mandatory.

__Type__: string

__Required__: False

__Default value__: None

### password

User's password as a clear string. The password must be at least eight characters long and must not contain white spaces.

__Type__: string

__Required__: True

__Default value__: None

### preserveInQuayOnDeletion

Whether to preserve the corresponding Quay object when you delete the FirstUser resource. When set to `false` (the default), the object is deleted from Quay.


__Type__: boolean

__Required__: False

__Default value__: False

### retSecretRef

RetSecretRef is the secret resource that the FirstUser resource creates. This secret will store the data that the resource generates:

- accessToken - The access token that you can use for subsequent resource calls. The token is valid for 2 hours 30 minutes.
- token - The OAuth access token (copy).
- host - URL for accessing the Quay API.
- validateCerts - Whether to allow insecure connections to the API.
- email - User's email address.
- encryptedPassword - Encrypted user's password.


__Type__: object (see the following properties)

__Required__: False

__Default value__: None

### retSecretRef.name

Name of the secret resource.

__Type__: string

__Required__: True

__Default value__: None

### retSecretRef.namespace

Namespace of the secret resource. By default, the secret resource is created in the same namespace as the current FirstUser resource.


__Type__: string

__Required__: False

__Default value__: None

### username

Name of the user account to create. You probably want that user account to have superuser permissions so that you can use the returned token to create additional objects. To do so, add the account name to the `SUPER_USERS` section in the `config.yaml` file before using the FirstUser resource.

__Type__: string

__Required__: True

__Default value__: None


## List the Resources

```sh
kubectl get firstusers.quay.herve4m.github.io
```




## Usage Example

```yaml
---
apiVersion: quay.herve4m.github.io/v1alpha1
kind: FirstUser
metadata:
  name: firstuser-sample
spec:
  # Connection parameters in a Secret resource.
  # Only the host and optionally the validateCerts parameters are used.
  connSecretRef:
    name: quay-connection-secret
    # By default, the operator looks for the secret in the same namespace as the
    # firstuser resource, but you can specify a different namespace.
    # namespace: mynamespace

  username: admin
  password: Sup3r53cr3L
  email: admin@example.com
  createToken: true

  # The Secret resource is created or updated, and stores the "accessToken"
  # parameter.
  # "host", "validateCerts", "token", "username", and "password" parameters are
  # also added, so that you can use the secret with other Quay resources to
  # access the API.
  # The token is valid only for 2 hours and 20 minutes.
  retSecretRef:
    name: quay-temp-credentials-secret
    # By default, the operator stores the secret in the same namespace as the
    # firstuser resource, but you can specify a different namespace.
    # namespace: mynamespace

```
