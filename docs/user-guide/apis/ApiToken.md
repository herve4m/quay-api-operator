<!---
DO NOT EDIT THIS FILE, BECAUSE IT IS AUTOMATICALLY GENERATED FROM A TEMPLATE.
Instead, edit the scripts/templates/docs/api.md.jinja template, and then run
the scripts/crd2markdown script.
--->

# ApiToken - Create OAuth access tokens for accessing the Quay Container Registry API

## Properties


### clientId

The client ID associated with the OAuth application to use for generating the OAuth access token. See the Application resource to create an application object and to retrieve the associated client ID.

__Type__: string

__Required__: False

__Default value__: None

### clientIdFrom

Reference to the secret resource that stores the client ID of the application.
You specify the key that stores this client ID by using the `key` parameter. By default the operator looks for a `clientId` key in the secret.
Mutually exclusive with `clientId`.


__Type__: object (see the following properties)

__Required__: False

__Default value__: None

### clientIdFrom.key

In the secret resource, key that stores the client ID.


__Type__: string

__Required__: False

__Default value__: clientId

### clientIdFrom.name

Name of the secret resource.

__Type__: string

__Required__: True

__Default value__: None

### clientIdFrom.namespace

Namespace of the secret resource. By default, the secret resource is retrieved from the same namespace as the current ApiToken resource.


__Type__: string

__Required__: False

__Default value__: None

### connSecretRef

Reference to the secret resource that stores the connection parameters to the Quay Container Registry API.
The secret must include the `host`, `token` (or `username` and `password`), and optionally the `validateCerts` keys.


__Type__: object (see the following properties)

__Required__: True

__Default value__: None

### connSecretRef.name

Name of the secret resource.

__Type__: string

__Required__: True

__Default value__: None

### connSecretRef.namespace

Namespace of the secret resource. By default, the secret resource is retrieved from the same namespace as the current ApiToken resource.


__Type__: string

__Required__: False

__Default value__: None

### preserveInQuayOnDeletion

Whether to preserve the corresponding Quay object when you delete the ApiToken resource. When set to `false` (the default), the object is deleted from Quay.


__Type__: boolean

__Required__: False

__Default value__: False

### retSecretRef

RetSecretRef is the secret resource that the ApiToken resource creates. This secret will store the data that the resource generates:
- accessToken - The OAuth access token.
- token - The OAuth access token (copy).
- host - URL for accessing the Quay API.
- validateCerts - Whether to allow insecure connections to the API.


__Type__: object (see the following properties)

__Required__: False

__Default value__: None

### retSecretRef.name

Name of the secret resource.

__Type__: string

__Required__: True

__Default value__: None

### retSecretRef.namespace

Namespace of the secret resource. By default, the secret resource is created in the same namespace as the current ApiToken resource.


__Type__: string

__Required__: False

__Default value__: None

### rights

List of permissions to grant to the user account. `all` means all the permissions.

__Type__: array

__Required__: False

__Default value__: ['repo:read']


## List the Resources

```sh
kubectl get apitokens.quay.herve4m.github.io
```




## Usage Example

```yaml
---
apiVersion: quay.herve4m.github.io/v1alpha1
kind: ApiToken
metadata:
  name: apitoken-sample
spec:
  # Connection parameters in a Secret resource
  # The secret MUST include the "username" and "password" parameters, because
  # you cannot authenticate with a token to create another token.
  connSecretRef:
    name: quay-temp-credentials-secret
    # By default, the operator looks for the secret in the same namespace as the
    # apitoken resource, but you can specify a different namespace.
    # namespace: mynamespace

  # You can specify the client ID by using the clientId parameter, or you can
  # refer to a secret that stores the ID by using the clientIdFrom parameter.
  # The application resource can create such secret.
  # clientId: PZ6F80R1LCVPGYNZGSZQ
  clientIdFrom:
    name: application-secret
    key: clientId
    # namespace: mynamespace

  rights:
    - all
    # - org:admin
    # - user:admin

  # The Secret resource is created or updated, and stores the "accessToken"
  # parameter.
  # "host", "validateCerts", and "token" parameters are also added, so that
  # you can use the secret with other Quay resources to access the API.
  retSecretRef:
    name: quay-credentials-secret
    # By default, the operator stores the secret in the same namespace as the
    # apitoken resource, but you can specify a different namespace.
    # namespace: mynamespace

```
