<!---
DO NOT EDIT THIS FILE, BECAUSE IT IS AUTOMATICALLY GENERATED FROM A TEMPLATE.
Instead, edit the scripts/templates/docs/api.md.jinja template, and then run
the scripts/crd2markdown script.
--->

# TeamLdap - Synchronize Quay Container Registry teams with LDAP groups

## Properties


### connSecretRef

Reference to the secret resource that stores the connection parameters to the Quay Container Registry API.
The secret must include the `host`, `token` (or `username` and `password`), and optionally the `validateCerts` keys.


__Type__: object (see the following properties)

__Required__: True

__Default value__: None

### connSecretRef.name

Name of the secret resource.

__Type__: string

__Required__: True

__Default value__: None

### connSecretRef.namespace

Namespace of the secret resource. By default, the secret resource is retrieved from the same namespace as the current TeamLdap resource.


__Type__: string

__Required__: False

__Default value__: None

### groupDn

LDAP group distinguished name (DN), relative to the base DN that you defined in the `config.yaml` Quay configuration file with the `LDAP_BASE_DN` parameter. For example, if the LDAP group DN is `cn=group1,ou=groups,dc=example,dc=org` and the base DN is `dc=example,dc=org`, then you must set `groupDn` to `cn=group1,ou=groups`. `groupDn` is required when `sync` is `true`.

__Type__: string

__Required__: False

__Default value__: None

### keepUsers

If `true`, then the current team members are kept after the synchronization is disabled. If `false`, then the team members are removed (except robot accounts). `keepUsers` is only used when `sync` is `false`.

__Type__: boolean

__Required__: False

__Default value__: True

### name

Name of the team to synchronize or unsynchronize with an LDAP group. That team must exist (see the Team resource to create it).

__Type__: string

__Required__: True

__Default value__: None

### organization

Name of the organization for the team. That organization must exist.

__Type__: string

__Required__: True

__Default value__: None

### preserveInQuayOnDeletion

Whether to preserve the corresponding Quay object when you delete the TeamLdap resource. When set to `false` (the default), the object is deleted from Quay.


__Type__: boolean

__Required__: False

__Default value__: False

### sync

If `true`, then the team members are retrieved from the LDAP group that you define in `groupDn`. The pre-existing members are removed from the team before the synchronization process starts. Existing robot account members are not removed. If `false`, then the synchronization from LDAP is disabled. Existing team members (from LDAP) are kept, except if you set `keepUsers` to `false`.

__Type__: boolean

__Required__: False

__Default value__: True


## List the Resources

```sh
kubectl get teamldaps.quay.herve4m.github.io
```




## Usage Example

```yaml
---
# The resource requires that your Quay administrator configures the Quay
# authentication method to LDAP (AUTHENTICATION_TYPE to LDAP in
# config.yaml and the LDAP_* parameters correctly set).
apiVersion: quay.herve4m.github.io/v1alpha1
kind: TeamLdap
metadata:
  name: teamldap-sample
spec:
  # Connection parameters in a Secret resource
  connSecretRef:
    name: quay-credentials-secret
    # By default, the operator looks for the secret in the same namespace as the
    # teamldap resource, but you can specify a different namespace.
    # namespace: mynamespace

  # Whether to preserve the corresponding configuration in Quay when you
  # delete the resource.
  preserveInQuayOnDeletion: false

  name: operators
  organization: production
  sync: true
  groupDn: cn=op1,ou=groups
  keepUsers: true

```
